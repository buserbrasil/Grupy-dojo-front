(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(10),o=n.n(u),s=n(6),c=n(2),i=n(3),l=n(5),m=n(4),d=(n(17),n(8)),h=n(1),f=n.n(h),p=n(7),g=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).decrementCodingTurnTime=function(){var e=a.state.codingTurnTime;a.setState({codingTurnTime:e-1})},a.resetCodingTurnTime=function(){a.setState({codingTurnTime:a.props.codingTurnTime})},a.decrementCodingBreakTime=function(){var e=a.state.codingBreakTime;a.setState({codingBreakTime:e-1})},a.resetCodingBreakTime=function(){a.setState({codingBreakTime:a.props.codingBreakTime})},a.incrementQueueTurn=function(){var e=a.state.queueTurn;a.setState({queueTurn:e+1})},a.incrementQueueCounter=function(){var e=a.state.queueCounter;a.setState({queueCounter:e+1})},a.resetQueueCounter=function(){a.setState({queueCounter:0})},a.newCodingTurn=function(){a.resetCodingTurnTime(),a.resetCodingBreakTime(),a.incrementQueueCounter(),a.props.handleQueueShift()},a.newQueueTurn=function(){a.resetQueueCounter(),a.incrementQueueTurn()},a.checkCodingTurn=function(){var e=a.state.codingTurnTime,t=a.state.codingBreakTime;return e>0?(a.decrementCodingTurnTime(),a.setState({highlightItem:"codingTurnTime"}),a.decrementer()):t>0?(0===e&&t===a.props.codingBreakTime&&a.handleEndAudio(),a.decrementCodingBreakTime(),a.setState({highlightItem:"codingBreakTime"}),a.decrementer()):(a.handleStartAudio(),a.setState({highlightItem:"codingTurnTime"}),a.newCodingTurn(),a.decrementer())},a.checkQueueTurn=function(){var e=a.props.queueLength;if(a.state.queueCounter===e)return clearTimeout(a.state.timeoutPromise),a.newQueueTurn(),a.decrementer()},a.checkEnd=function(){a.state.queueTurn===a.state.totalSessions&&(clearTimeout(a.state.timeoutPromise),a.setState({endend:!0}))},a.handleStartTimer=function(e){e.preventDefault(),a.decrementer()},a.handleStartAudio=function(){new Audio("https://grupy-dojo.s3.us-east-2.amazonaws.com/round-start.mp3").play()},a.handleEndAudio=function(){new Audio("https://grupy-dojo.s3.us-east-2.amazonaws.com/finish-him.mp3").play()},a.handlePausePlayClock=function(){var e=Object(p.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.pauseFlag,a.state.nonStarted&&a.handleStartAudio(),e.next=5,a.setState({pauseFlag:!n,nonStarted:!1});case 5:a.decrementer();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleReset=function(){var e=Object(p.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,clearTimeout(a.state.timeoutPromise);case 3:return e.next=5,a.setState(Object(d.a)({},a.initialState));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.workflow=Object(p.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.checkCodingTurn();case 2:return e.next=4,a.checkQueueTurn();case 4:return e.next=6,a.checkEnd();case 6:case"end":return e.stop()}},e)})),a.decrementer=function(){var e;a.state.pauseFlag&&a.state.timeoutPromise?clearTimeout(a.state.timeoutPromise):(e=setTimeout(function(){a.workflow()},1e3),a.setState({timeoutPromise:e}))},a.toMmSs=function(e){var t=Math.floor(e/60).toString(),n=(e%60).toString();return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),"".concat(t,":").concat(n)},a.state={totalSessions:a.props.totalSessions,queueTurn:0,codingTurnTime:a.props.codingTurnTime,codingBreakTime:a.props.codingBreakTime,queueCounter:0,pauseFlag:!0,nonStarted:!0,endend:!1,highlightItem:"codingTurnTime"},a.initialState=Object(d.a)({},a.state),a}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container my-2"},r.a.createElement("div",null,r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"card",style:"codingTurnTime"===this.state.highlightItem?{backgroundColor:"orange"}:{}},r.a.createElement("h5",{className:"card-header text-center"},"Codar!"),r.a.createElement("h3",{className:"card-body card-text text-center"},this.toMmSs(this.state.codingTurnTime)))),r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"card",style:"codingBreakTime"===this.state.highlightItem?{backgroundColor:"orange"}:{}},r.a.createElement("h5",{className:"card-header text-center"},"Trocar!"),r.a.createElement("h3",{className:"card-body card-text text-center"},this.toMmSs(this.state.codingBreakTime)))),r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"card",style:this.state.endend?{backgroundColor:"red",color:"white"}:{}},r.a.createElement("h5",{className:"card-header text-center"},"Rodada"),r.a.createElement("h3",{className:"card-body card-text text-center"},"".concat(this.state.queueTurn))))),this.state.endend?r.a.createElement("div",{className:"row d-flex justify-content-center",style:{color:"pink"}},r.a.createElement("h3",null,"Partida finalizada!")):"",r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-secondary mx-2",onClick:this.props.handleRerenderForm},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("button",{className:"btn btn-primary mx-2",onClick:this.handlePausePlayClock},this.state.pauseFlag?r.a.createElement("i",{className:"fas fa-play"}):r.a.createElement("i",{className:"fas fa-pause"})),this.state.nonStarted?"":r.a.createElement("button",{className:"btn btn-warning mx-2",onClick:this.handleReset},r.a.createElement("i",{className:"fas fa-undo"})," Reiniciar")))}}]),n}(a.Component),S=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container d-flex flex-column align-items-center",style:{height:"100%"}},r.a.createElement("div",{className:"bg-warning w-md-50 mx-auto my-auto p-5"},r.a.createElement("h1",{className:"mb-5 text-center",style:{fontFamily:"'Press Start 2P', cursive"}},"GruPy Dojo!"),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"codingSeconds"},"N\xfamero de segundos para codar"),r.a.createElement("input",{name:"codingSeconds",type:"number",step:1,min:30,value:this.props.codingSeconds,onChange:this.props.handleCodingSecondsChange,className:"form-control"}),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"breakSeconds"},"N\xfamero de segundos para trocar de lugares"),r.a.createElement("input",{name:"breakSeconds",type:"number",step:1,min:10,value:this.props.breakSeconds,onChange:this.props.handleBreakSecondsChange,className:"form-control"}),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"numberOfTurns"},"N\xfamero de turnos"),r.a.createElement("input",{name:"numberOfTurns",type:"number",step:1,min:1,value:this.props.numberOfTurns,onChange:this.props.handleNumberOfTurns,className:"form-control"}),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"shouldShuffle"},"Embaralhar?"),r.a.createElement("input",{name:"shouldShuffle",type:"checkbox",onClick:this.props.handleShouldShuffle,checked:this.props.shouldShuffle?"checked":void 0}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.props.getFormData,className:"btn btn-primary"},"Come\xe7ar!")))}}]),n}(a.Component);function b(e){return r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{className:"form-control",placeholder:"Nick do Participante",onChange:e.handleQueueInput,onKeyPress:e.handleQueueInput,value:e.queueInput}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",onClick:e.handleQueueSubmit},"+!")))}function T(e){for(var t=[],n=e.queue,a=function(a){t.push(r.a.createElement("li",{key:a,name:a,className:"list-group-item"},e.formDone?a+1:void 0,e.formDone?" - ":void 0,n[a],r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){e.handleDeleteQueueItem(a)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))},u=0;u<n.length;u++)a(u);return r.a.createElement("div",{className:"w-100",style:{height:"500px",overflowY:"auto"}},r.a.createElement("ul",{className:"list-group"},t))}var v=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleCodingSecondsChange=function(e){a.setState({codingSeconds:e.target.value})},a.handleBreakSecondsChange=function(e){a.setState({breakSeconds:e.target.value})},a.handleNumberOfTurns=function(e){a.setState({numberOfTurns:e.target.value})},a.handleQueueInput=function(e){"Enter"!==e.key?a.setState({queueInput:e.target.value}):a.handleQueueSubmit(e)},a.handleQueueSubmit=function(e){e.preventDefault();var t=Object(s.a)(a.state.queue);""!==a.state.queueInput&&t.push(a.state.queueInput),a.setState({queue:t,queueInput:""})},a.handleQueueShift=function(){var e=Object(s.a)(a.state.queue),t=e.shift();e.push(t),a.setState({queue:e})},a.getFormData=function(e){e.preventDefault();var t=Object(s.a)(a.state.queue);a.state.shouldShuffle&&function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t}(t),a.setState({formDone:!0,queue:t})},a.handleDeleteQueueItem=function(e){var t=Object(s.a)(a.state.queue);t.splice(e,1),a.setState({queue:t})},a.handleRerenderForm=function(){a.setState({formDone:!1})},a.handleShouldShuffle=function(e){a.setState({shouldShuffle:!a.state.shouldShuffle})},a.renderForm=function(){return r.a.createElement(S,{codingSeconds:a.state.codingSeconds,breakSeconds:a.state.breakSeconds,numberOfTurns:a.state.numberOfTurns,handleCodingSecondsChange:a.handleCodingSecondsChange,handleBreakSecondsChange:a.handleBreakSecondsChange,handleNumberOfTurns:a.handleNumberOfTurns,getFormData:a.getFormData,shouldShuffle:a.state.shouldShuffle,handleShouldShuffle:a.handleShouldShuffle})},a.renderClock=function(){return r.a.createElement(g,{totalSessions:parseInt(a.state.numberOfTurns),codingTurnTime:parseInt(a.state.codingSeconds),codingBreakTime:parseInt(a.state.breakSeconds),queueLength:a.state.queue.length,handleQueueShift:a.handleQueueShift,handleRerenderForm:a.handleRerenderForm})},a.state={codingSeconds:"30",breakSeconds:"10",numberOfTurns:"1",queueInput:"",queue:[],formDone:!1,shouldShuffle:!0},a}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container d-flex align-items-center justify-content-center",style:{height:"100%"}},r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"col-md-6"},this.state.formDone?this.renderClock():this.renderForm()),r.a.createElement("div",{className:"col-md-6 p-3 bg-warning d-flex flex-column align-items-center"},r.a.createElement("h3",{className:"text-center"},"Fila"),r.a.createElement(b,{handleQueueInput:this.handleQueueInput,handleQueueSubmit:this.handleQueueSubmit,queueInput:this.state.queueInput}),r.a.createElement(T,{queue:this.state.queue,formDone:this.state.formDone,handleDeleteQueueItem:this.handleDeleteQueueItem}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.e1e20c9d.chunk.js.map