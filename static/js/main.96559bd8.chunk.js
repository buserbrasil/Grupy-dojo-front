(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(11),o=n.n(u),s=n(7),c=n(2),i=n(3),l=n(5),m=n(4),d=n(6),h=(n(18),n(9)),f=n(1),p=n.n(f),g=n(8),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).decrementCodingTurnTime=function(){var e=n.state.codingTurnTime;n.setState({codingTurnTime:e-1})},n.resetCodingTurnTime=function(){n.setState({codingTurnTime:n.props.codingTurnTime})},n.decrementCodingBreakTime=function(){var e=n.state.codingBreakTime;n.setState({codingBreakTime:e-1})},n.resetCodingBreakTime=function(){n.setState({codingBreakTime:n.props.codingBreakTime})},n.incrementQueueTurn=function(){var e=n.state.queueTurn;n.setState({queueTurn:e+1})},n.incrementQueueCounter=function(){var e=n.state.queueCounter;n.setState({queueCounter:e+1})},n.resetQueueCounter=function(){n.setState({queueCounter:0})},n.newCodingTurn=function(){n.resetCodingTurnTime(),n.resetCodingBreakTime(),n.incrementQueueCounter(),n.props.handleQueueShift()},n.newQueueTurn=function(){n.resetQueueCounter(),n.incrementQueueTurn()},n.checkCodingTurn=function(){var e=n.state.codingTurnTime,t=n.state.codingBreakTime;return e>0?(n.decrementCodingTurnTime(),n.setState({highlightItem:"codingTurnTime"}),n.decrementer()):t>0?(0===e&&t===n.props.codingBreakTime&&n.handleEndAudio(),n.decrementCodingBreakTime(),n.setState({highlightItem:"codingBreakTime"}),n.decrementer()):(n.handleStartAudio(),n.setState({highlightItem:"codingTurnTime"}),n.newCodingTurn(),n.decrementer())},n.checkQueueTurn=function(){var e=n.props.queueLength;if(n.state.queueCounter===e)return clearTimeout(n.state.timeoutPromise),n.newQueueTurn(),n.decrementer()},n.checkEnd=function(){n.state.queueTurn===n.state.totalSessions&&(clearTimeout(n.state.timeoutPromise),n.setState({endend:!0}))},n.handleStartTimer=function(e){e.preventDefault(),n.decrementer()},n.handleStartAudio=function(){new Audio("https://grupy-dojo.s3.us-east-2.amazonaws.com/round-start.mp3").play()},n.handleEndAudio=function(){new Audio("https://grupy-dojo.s3.us-east-2.amazonaws.com/finish-him.mp3").play()},n.handlePausePlayClock=function(){var e=Object(g.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state.pauseFlag,n.state.nonStarted&&n.handleStartAudio(),e.next=5,n.setState({pauseFlag:!a,nonStarted:!1});case 5:n.decrementer();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleReset=function(){var e=Object(g.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,clearTimeout(n.state.timeoutPromise);case 3:return e.next=5,n.setState(Object(h.a)({},n.initialState));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.workflow=Object(g.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.checkCodingTurn();case 2:return e.next=4,n.checkQueueTurn();case 4:return e.next=6,n.checkEnd();case 6:case"end":return e.stop()}},e)})),n.decrementer=function(){var e;n.state.pauseFlag&&n.state.timeoutPromise?clearTimeout(n.state.timeoutPromise):(e=setTimeout(function(){n.workflow()},1e3),n.setState({timeoutPromise:e}))},n.toMmSs=function(e){var t=Math.floor(e/60).toString(),n=(e%60).toString();return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),"".concat(t,":").concat(n)},n.state={totalSessions:n.props.totalSessions,queueTurn:0,codingTurnTime:n.props.codingTurnTime,codingBreakTime:n.props.codingBreakTime,queueCounter:0,pauseFlag:!0,nonStarted:!0,endend:!1,highlightItem:"codingTurnTime"},n.initialState=Object(h.a)({},n.state),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container my-2"},r.a.createElement("div",null,r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"card",style:"codingTurnTime"===this.state.highlightItem?{backgroundColor:"orange"}:{}},r.a.createElement("h5",{className:"card-header text-center"},"Codar!"),r.a.createElement("h3",{className:"card-body card-text text-center"},this.toMmSs(this.state.codingTurnTime)))),r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"card",style:"codingBreakTime"===this.state.highlightItem?{backgroundColor:"orange"}:{}},r.a.createElement("h5",{className:"card-header text-center"},"Trocar!"),r.a.createElement("h3",{className:"card-body card-text text-center"},this.toMmSs(this.state.codingBreakTime)))),r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"card",style:this.state.endend?{backgroundColor:"red",color:"white"}:{}},r.a.createElement("h5",{className:"card-header text-center"},"Rodada"),r.a.createElement("h3",{className:"card-body card-text text-center"},"".concat(this.state.queueTurn))))),this.state.endend?r.a.createElement("div",{className:"row d-flex justify-content-center",style:{color:"pink"}},r.a.createElement("h3",null,"Partida finalizada!")):"",r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-secondary mx-2",onClick:this.props.handleRerenderForm},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("button",{className:"btn btn-primary mx-2",onClick:this.handlePausePlayClock},this.state.pauseFlag?r.a.createElement("i",{className:"fas fa-play"}):r.a.createElement("i",{className:"fas fa-pause"})),this.state.nonStarted?"":r.a.createElement("button",{className:"btn btn-warning mx-2",onClick:this.handleReset},r.a.createElement("i",{className:"fas fa-undo"})," Reiniciar")))}}]),t}(a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container d-flex flex-column align-items-center",style:{height:"100%"}},r.a.createElement("div",{className:"bg-warning w-md-50 mx-auto my-auto p-5"},r.a.createElement("h1",{className:"mb-5 text-center",style:{fontFamily:"'Press Start 2P', cursive"}},"GruPy Dojo!"),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"codingSeconds"},"N\xfamero de segundos para codar"),r.a.createElement("input",{name:"codingSeconds",type:"number",step:1,min:30,value:this.props.codingSeconds,onChange:this.props.handleCodingSecondsChange,className:"form-control"}),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"breakSeconds"},"N\xfamero de segundos para trocar de lugares"),r.a.createElement("input",{name:"breakSeconds",type:"number",step:1,min:10,value:this.props.breakSeconds,onChange:this.props.handleBreakSecondsChange,className:"form-control"}),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"numberOfTurns"},"N\xfamero de turnos"),r.a.createElement("input",{name:"numberOfTurns",type:"number",step:1,min:1,value:this.props.numberOfTurns,onChange:this.props.handleNumberOfTurns,className:"form-control"}),r.a.createElement("label",{className:"col-form-label-lg",htmlFor:"shouldShuffle"},"Embaralhar?"),r.a.createElement("input",{name:"shouldShuffle",type:"checkbox",onClick:this.props.handleShouldShuffle,checked:this.props.shouldShuffle?"checked":void 0}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.props.getFormData,className:"btn btn-primary"},"Come\xe7ar!")))}}]),t}(a.Component);function T(e){return r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{className:"form-control",placeholder:"Nick do Participante",onChange:e.handleQueueInput,onKeyPress:e.handleQueueInput,value:e.queueInput}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",onClick:e.handleQueueSubmit},"+!")))}function v(e){for(var t=[],n=e.queue,a=function(a){t.push(r.a.createElement("li",{key:a,name:a,className:"list-group-item"},e.formDone?a+1:void 0,e.formDone?" - ":void 0,n[a],r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){e.handleDeleteQueueItem(a)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))},u=0;u<n.length;u++)a(u);return r.a.createElement("div",{className:"w-100",style:{height:"500px",overflowY:"auto"}},r.a.createElement("ul",{className:"list-group"},t))}var k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleCodingSecondsChange=function(e){n.setState({codingSeconds:e.target.value})},n.handleBreakSecondsChange=function(e){n.setState({breakSeconds:e.target.value})},n.handleNumberOfTurns=function(e){n.setState({numberOfTurns:e.target.value})},n.handleQueueInput=function(e){"Enter"!==e.key?n.setState({queueInput:e.target.value}):n.handleQueueSubmit(e)},n.handleQueueSubmit=function(e){e.preventDefault();var t=Object(s.a)(n.state.queue);""!==n.state.queueInput&&t.push(n.state.queueInput),n.setState({queue:t,queueInput:""})},n.handleQueueShift=function(){var e=Object(s.a)(n.state.queue),t=e.shift();e.push(t),n.setState({queue:e})},n.getFormData=function(e){e.preventDefault();var t=Object(s.a)(n.state.queue);n.state.shouldShuffle&&function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t}(t),n.setState({formDone:!0,queue:t})},n.handleDeleteQueueItem=function(e){var t=Object(s.a)(n.state.queue);t.splice(e,1),n.setState({queue:t})},n.handleRerenderForm=function(){n.setState({formDone:!1})},n.handleShouldShuffle=function(e){n.setState({shouldShuffle:!n.state.shouldShuffle})},n.renderForm=function(){return r.a.createElement(S,{codingSeconds:n.state.codingSeconds,breakSeconds:n.state.breakSeconds,numberOfTurns:n.state.numberOfTurns,handleCodingSecondsChange:n.handleCodingSecondsChange,handleBreakSecondsChange:n.handleBreakSecondsChange,handleNumberOfTurns:n.handleNumberOfTurns,getFormData:n.getFormData,shouldShuffle:n.state.shouldShuffle,handleShouldShuffle:n.handleShouldShuffle})},n.renderClock=function(){return r.a.createElement(b,{totalSessions:parseInt(n.state.numberOfTurns),codingTurnTime:parseInt(n.state.codingSeconds),codingBreakTime:parseInt(n.state.breakSeconds),queueLength:n.state.queue.length,handleQueueShift:n.handleQueueShift,handleRerenderForm:n.handleRerenderForm})},n.state={codingSeconds:"30",breakSeconds:"10",numberOfTurns:"1",queueInput:"",queue:[],formDone:!1,shouldShuffle:!0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container d-flex align-items-center justify-content-center",style:{height:"100%"}},r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"col-md-6"},this.state.formDone?this.renderClock():this.renderForm()),r.a.createElement("div",{className:"col-md-6 p-3 bg-warning d-flex flex-column align-items-center"},r.a.createElement("h3",{className:"text-center"},"Fila"),r.a.createElement(T,{handleQueueInput:this.handleQueueInput,handleQueueSubmit:this.handleQueueSubmit,queueInput:this.state.queueInput}),r.a.createElement(v,{queue:this.state.queue,formDone:this.state.formDone,handleDeleteQueueItem:this.handleDeleteQueueItem}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.96559bd8.chunk.js.map